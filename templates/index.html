<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compile and Run C Online</title>
    <script src="{{ url_for('static', filename='js/socket.io.js') }}"></script>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/codemirror.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dracula.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>
<body>
    <h1>Compile and Run Your C Code</h1>

    <div class="accordion-item">
        <div class="accordion-header" id="examples-header">C Code Examples</div>
        <div class="accordion-content" id="examples-content">
            <ul id="examples-list">
                </ul>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header active" id="code-header">Source Code</div>
        <div class="accordion-content show" id="code-content">
            <textarea id="c-code" placeholder="Write your C code here...">
#include <stdio.h>
#include <unistd.h> // For sleep

int main() {
    printf("Hello from your C program!\n");
    for (int i = 0; i < 3; i++) { // Reduced to 3 for quick tests
        printf("Counter: %d\n", i);
        fflush(stdout); // Force output
        sleep(1); // Wait 1 second
    }
    printf("C program finished.\n");
    return 0;
}
</textarea>
            <div class="controls">
                <button id="compile-run-button">Compile and Run</button>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <div class="accordion-header" id="output-header">Output Console</div>
        <div class="accordion-content" id="output-content">
            <pre id="output-console">Awaiting code...</pre>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/codemirror.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/clike.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/indent-on-tab.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/matchbrackets.min.js') }}"></script>

    <script src="{{ url_for('static', filename='js/c-examples.js') }}"></script> 
    <script src="{{ url_for('static', filename='js/main.js') }}"></script> 
</body>
</html>